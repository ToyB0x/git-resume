# APIサーバー実装の進捗状況

## 実装タスク

- [ ] **基本設定**
  - [ ] CloudFlare Workersプロジェクトの作成
  - [ ] Hono.jsの設定
  - [ ] TypeScriptの設定
  - [ ] 環境変数の設定（GitHub API Token、Database URL等）

- [ ] **APIエンドポイント実装**
  - [ ] 1次分析(プロフィール取得)兼診断状況(結果含む)読込API
    - [ ] `GET /api/github/:username`
    - [ ] データベースからの状態取得ロジック
    - [ ] GitHub APIからのプロフィール情報取得
    - [ ] 状態に応じたレスポンス形式の定義
    - [ ] 総合的な進捗計算ロジックの実装
  - [ ] 2次分析実行API
    - [ ] `POST /api/github/:username/analyze`
    - [ ] データベースへの初期状態記録
    - [ ] Cloud Run Jobsの起動
    - [ ] レスポンス形式の定義

- [ ] **エラーハンドリング**
  - [ ] 共通エラーレスポンス形式の定義
  - [ ] 404エラー（ユーザーが存在しない場合）
  - [ ] 429エラー（レート制限）
  - [ ] 500エラー（内部サーバーエラー）

- [ ] **Cloud Run Jobs連携**
  - [ ] GCPサービスアカウントの設定
  - [ ] 認証トークン取得ロジックの実装
  - [ ] Cloud Run Jobs API呼び出しの実装
  - [ ] エラーハンドリングの実装

- [ ] **テスト**
  - [ ] ユニットテスト
  - [ ] 統合テスト
  - [ ] cURLを使用した動作確認スクリプト

- [ ] **デプロイメント**
  - [ ] wrangler.tomlの設定
  - [ ] 環境変数の設定（開発環境、本番環境）
  - [ ] CloudFlare Workersへのデプロイ
  - [ ] カスタムドメイン設定
  - [ ] デプロイ後の動作確認

- [ ] **ドキュメント**
  - [ ] API仕様書の作成
  - [ ] cURLコマンド例の作成
  - [ ] デプロイ手順書の作成

## 別エピックにて対応予定

- [ ] **フロントエンド連携**
  - [ ] フロントエンドからのAPI呼び出し実装
  - [ ] UI表示の連携