# Deep Research ユーザーガイド

> **注意**: このユーザーガイドは、アーキテクチャ設計を検討する過程で作成された参考資料です。アーキテクチャの検証や具体化のために作成されたものであり、最終的な実装の詳細を規定するものではありません。抽象と具体を往復して検討した結果の一部として位置づけられます。

## 概要

Deep Researchは、GitHub User名を入力するだけで、関連する情報を自動的に収集・分析し、10秒以内に詳細な調査計画を表示し、その後ユーザーがいつでも安全に離脱できるツールです。モダンなダークテーマのインターフェースで、直感的な操作と視覚的に魅力的な結果表示を提供します。このガイドでは、Deep Researchの基本的な使い方を説明します。

## 2段階調査プロセス

Deep Researchは、効率的な情報収集と分析を行うための2段階調査プロセスを採用しています：

1. **1次調査（調査計画段階）**:
   - 目的: 基本的なGitHubプロフィール情報の取得と調査計画の生成
   - 特徴: 軽量処理、10秒以内の高速レスポンス、キャッシュなし
   - 結果: 調査計画画面の表示

2. **2次調査（詳細分析段階）**:
   - 目的: 詳細なGitHub活動の分析とレジュメ生成
   - 特徴: 重い処理、バックグラウンド実行、30日間のキャッシュ
   - 結果: マークダウン形式のレジュメ

この2段階設計により、ユーザーは素早く調査計画を確認でき、その後の詳細分析はバックグラウンドで実行されるため、ユーザーはいつでも安全に離脱できます。

## 始め方

### アクセス方法

1. Webブラウザで `https://deep-research.example.com` にアクセス
2. 必要に応じてログイン（アカウントをお持ちでない場合は新規登録）
   - GitHubアカウントでのソーシャルログインも可能

### 基本的な使い方

1. トップページ（`/`）の検索フォームにGitHub User名を入力
   - 入力中にサジェスト機能で候補が表示されます
2. 「調査開始」ボタンをクリック
   - グラデーションエフェクトのボタンが押されると、調査計画の生成が開始されます
3. 10秒以内に表示される調査計画を確認（`/github/:username/plan`）
   - グラデーションプログレスバーで生成進捗が表示されます
4. 「実行」ボタンをクリックして調査を開始
   - バックグラウンドで処理が継続されるため、いつでも安全に離脱できます
5. 調査結果が段階的に表示されるのを確認（`/github/:username/progress`）
   - 完了した項目から順次表示されていきます
6. 調査完了後、詳細な結果を閲覧（`/github/:username/results`）
   - タブ切り替えで様々な分析結果を確認できます

## 主要機能

### 1. 調査計画の生成

GitHub User名を入力すると、システムは10秒以内に以下を含む調査計画を生成します：

- **基本プロフィール情報の収集項目**
  - ユーザー名、フルネーム、所在地、組織
  - プロフィール画像、バイオ、ソーシャルリンク
  - アカウント作成日、最終活動日

- **リポジトリ分析の焦点**
  - スター数上位のリポジトリ
  - フォーク数上位のリポジトリ
  - 最近更新されたリポジトリ
  - 言語使用分布

- **コントリビューション傾向の分析方法**
  - コミット頻度とパターン
  - プルリクエストの特徴
  - イシュー対応の傾向
  - コードレビューの特性

- **関連ユーザーとの関係性調査**
  - フォロワー/フォロー関係
  - コラボレーター
  - 組織メンバーシップ
  - インタラクション頻度の高いユーザー

- **技術スタックの推定方法**
  - 使用言語の分析
  - フレームワークとライブラリの特定
  - 開発ツールの推定
  - 興味/専門分野の推測

### 2. 調査の実行と進捗確認

「実行」ボタンをクリックすると、バックグラウンドで調査が開始されます：

- **進捗表示**
  - グラデーションプログレスバーで全体の進行状況を視覚的に表示
  - 各調査ステップの状態（待機中/進行中/完了/エラー）をアイコンとカラーで表示
  - 予想完了時間のカウントダウン表示

- **リアルタイム更新**
  - 処理中のタスク名と詳細情報のライブ更新
  - 完了したステップの結果をリアルタイムでフェードイン表示
  - エラーが発生した場合の即時通知と回復オプション

- **バックグラウンド処理**
  - 「離脱安全」インジケーターでいつでも安全に離脱できることを表示
  - ブラウザ通知（オプション）で重要なマイルストーン達成を通知
  - 処理の一時停止/再開オプション

- **進捗状態**
  - リポジトリを検索中
  - リポジトリをClone中
  - リポジトリの活動を分析中
  - Resumeの作成中
  - Resume作成済み

### 3. 調査結果の閲覧

調査結果は以下のセクションに分かれて表示されます：

- **基本情報**
  - プロフィールカード（画像、名前、バイオ）
  - 活動統計（コミット数、PR数、イシュー数）
  - 組織所属と役割
  - 活動カレンダーヒートマップ

- **リポジトリ分析**
  - 主要リポジトリのカードビュー（スター数、フォーク数、最終更新日）
  - 言語使用傾向のグラデーションドーナツチャート
  - スター獲得トレンドのラインチャート
  - トピック/タグのワードクラウド

- **コントリビューション**
  - コミット頻度の時系列グラフ
  - PRパターンの分析（サイズ、マージ率、レビュー時間）
  - イシュー対応の統計（解決時間、カテゴリ分布）
  - コードレビューの特性（コメント頻度、詳細度）

- **ネットワーク**
  - フォロワー/フォロー関係のインタラクティブネットワークグラフ
  - 頻繁にコラボレーションするユーザーのリスト
  - 組織内での関係性マップ
  - コミュニティ内での影響力指標

- **技術スタック**
  - 使用言語のグラデーションバーチャート
  - フレームワーク/ライブラリの使用パターン
  - 開発ツールチェーンの推定
  - 専門分野と興味のタグクラウド

### 4. 離脱と再開

調査中にブラウザを閉じたり、別のページに移動したりしても、調査は継続されます：

- **セッション管理**
  - 再訪問時に「進行中の調査」セクションから継続可能
  - 最後に閲覧した位置から正確に再開
  - 完了した調査は「過去の調査」セクションに保存（カード形式で表示）

- **通知オプション**
  - 調査完了時のブラウザ通知
  - メール通知（設定が必要）
  - 進捗状況の定期的なサマリー

- **データ永続性**
  - すべての調査結果は自動保存
  - アカウントにログインすることで複数デバイスからアクセス可能
  - 調査履歴の管理（保存、削除、お気に入り登録）

## 高度な機能

### カスタム調査設定

「詳細設定」パネルから調査の焦点をカスタマイズできます：

- **範囲設定**
  - 特定のリポジトリに焦点を当てる（複数選択可能）
  - 特定の時間範囲に限定（日付範囲ピッカー）
  - 特定の言語やトピックに関連する活動のみ分析（タグ選択）

- **深度設定**
  - 分析の詳細度を調整（基本/標準/詳細）
  - 特定の分析カテゴリの優先度設定
  - データ収集量の制限オプション

- **比較オプション**
  - 他のGitHubユーザーとの比較
  - 過去の自分自身との比較（時系列分析）
  - 業界平均との比較

### 調査結果のエクスポート

調査結果は以下の形式でエクスポート可能です：

- **ドキュメント形式**
  - PDF レポート（ビジュアル要素を含む完全レポート）
  - Markdown ドキュメント（GitHub互換）
  - HTML ウェブページ（インタラクティブ要素を保持）

- **データ形式**
  - JSON データ（完全なデータセット）
  - CSV データセット（表形式データ、統計分析用）
  - GraphQL クエリ結果（開発者向け）

- **ビジュアル要素**
  - グラフと図表の個別エクスポート（PNG/SVG）
  - インタラクティブダッシュボード（埋め込みコード）
  - プレゼンテーションスライド（自動生成）

### 通知設定

長時間かかる調査の場合、完了時に通知を受け取ることができます：

- **ブラウザ通知**
  - 調査完了通知
  - 重要なマイルストーン達成通知
  - エラーや問題の通知

- **メール通知**
  - 調査完了サマリー
  - 定期的な進捗レポート
  - カスタマイズ可能な通知頻度

- **外部連携**
  - Slack通知（ワークスペース連携が必要）
  - Discord通知
  - カスタムWebhook

## 技術的背景

Deep Researchは、以下の技術スタックで構築されています：

- **フロントエンド**: CloudFlare Pages上のReact + TypeScript + Tailwind CSS
- **バックエンド（1次調査）**: CloudFlare Workers + Hono.js
- **バックエンド（2次調査）**: GCP Cloud Run Jobs
- **データベース**: Neon.tech（PostgreSQL互換）
- **通信方式**: RESTful API + Polling

## URLパスとルーティング

Deep Researchは以下のURLパスを使用しています：

- **ホーム画面**: `/`
- **調査計画画面**: `/github/:username/plan`
- **調査進行画面**: `/github/:username/progress`
- **調査結果画面**: `/github/:username/results`
- **エラー画面**: `/error`
- **設定画面**: `/settings`
- **ヘルプ画面**: `/help`

ユーザーが直接URLを入力して特定の画面にアクセスした場合も、適切な状態チェックを行い、必要に応じて適切な画面にリダイレクトします。

## トラブルシューティング

### よくある問題

1. **調査が開始されない**
   - GitHub User名のスペルを確認
   - インターネット接続を確認
   - ブラウザのキャッシュをクリア
   - 別のブラウザで試す

2. **調査が途中で止まる**
   - ページを再読み込み
   - 「調査再開」ボタンをクリック
   - 進行中タスクの詳細を確認
   - サポートに問い合わせ（エラーコードを記録）

3. **結果が表示されない**
   - ブラウザの JavaScript が有効か確認
   - アドブロッカーを一時的に無効化
   - 別のブラウザで試す
   - デバイスを再起動

4. **エクスポートが機能しない**
   - ブラウザのダウンロード設定を確認
   - 別の形式でエクスポートを試す
   - 一部のデータのみを選択してエクスポート
   - ブラウザの更新後に再試行

### サポート

問題が解決しない場合は、以下の方法でサポートを受けられます：

- **ヘルプセンター**: `https://deep-research.example.com/help`
  - 詳細なガイドとチュートリアル
  - よくある質問（FAQ）
  - トラブルシューティングガイド

- **サポート連絡先**:
  - メール: `support@deep-research.example.com`
  - チャットサポート: アプリ内の「サポート」ボタンから
  - コミュニティフォーラム: `https://community.deep-research.example.com`

- **フィードバック**:
  - 機能リクエスト
  - バグ報告
  - 使いやすさの改善提案

## 実装ギャップと今後の課題

このユーザーガイドで説明されている機能の一部は、現在の実装では利用できない場合があります。以下の機能は今後のアップデートで追加される予定です：

1. **ヘッダーとフッターの実装**
2. **グラデーションとアニメーション効果**
3. **グラスモーフィズムデザイン**
4. **レスポンシブデザインの最適化**
5. **アクセシビリティ対応**

これらの機能は、「UI実装ギャップ解消エピック」として計画されています。