# Epic: Deep Research Architecture and Design

## 目的

このエピックの目的は、**将来のUIやAPIの設計や実装に向けた、アーキテクチャを設計すること**のみです。Deep Research のように、ユーザが調べたいもの(Github User名)を入力した後、10秒以内に関連する情報の詳細な調査計画を画面に表示し、その後ユーザが調査を実行した後ではいつ画面を離脱してもよいシステムを実現するための、アーキテクチャの全体構成と設計を定義します。

## 概要

このエピックでは、アーキテクチャ設計の観点から、効率的な情報収集と分析を行うための2段階調査プロセスを定義します。具体的な実装やUIの詳細ではなく、システム全体の構造、コンポーネント間の関係、データフロー、技術選定の根拠に焦点を当てています。

**調査プロセスの2段階設計**:

1. **1次調査（調査計画段階）**:
   - 目的: 基本的なGitHubプロフィール情報の取得と調査計画の生成
   - 特徴: 軽量処理、10秒以内の高速レスポンス、キャッシュなし
   - 結果: 調査計画画面の表示

2. **2次調査（詳細分析段階）**:
   - 目的: 詳細なGitHub活動の分析とレジュメ生成
   - 特徴: 重い処理、バックグラウンド実行、30日間のキャッシュ
   - 結果: マークダウン形式のレジュメ

このドキュメントに含まれるUIモック、ユーザーガイド、詳細設計などの付属資料は、**単に抽象と具体を往復して検討した参考材料にすぎません**。これらは、アーキテクチャの検証や具体化のために作成されたものであり、最終的な実装の詳細を規定するものではありません。

## 関連ドキュメント

以下のドキュメントは、アーキテクチャ設計を検討する過程で作成された参考資料です：

- [進捗状況](./PROGRESS.md) - アーキテクチャ設計の進捗状況
- [アーキテクチャ設計](./ARCHITECTURE.md) - システム全体のアーキテクチャと設計思想の詳細
- [ユーザーガイド](./USER-GUIDE.md) - アーキテクチャが実現すべき機能の参考資料
- [UI設計](./UI.md) - アーキテクチャが支えるべきUIの参考資料
- [モックアップ](./mocks/) - アーキテクチャの検証のための具体例

## アーキテクチャの主要コンポーネント概要

アーキテクチャは以下の主要コンポーネントで構成されています。詳細は[アーキテクチャ設計](./ARCHITECTURE.md)を参照してください。

1. **1次調査アーキテクチャ**: GitHub User名からの10秒以内の基本情報取得と調査計画生成（CloudFlare Workers + Hono.js）

2. **2次調査アーキテクチャ**: GitHubの詳細情報収集、リポジトリ分析、AIによるレジュメ生成（GCP Cloud Run Jobs）

3. **状態管理アーキテクチャ**: 調査状態の管理と適切な画面遷移、ユーザーの離脱と再訪問を考慮したセッション管理

4. **データ永続化アーキテクチャ**: 2次調査の結果と状態を効率的に保存（Neon.tech PostgreSQL）

5. **フロントエンドアーキテクチャ**: 直感的なユーザーインターフェースの提供（CloudFlare Pages + React + Tailwind CSS）
