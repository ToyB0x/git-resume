# プロジェクト/リポジトリのドキュメンテーションガイド

**更新日**: 2025/3/21
**確認日**: 2025/3/21

このガイドは、git-resumeプロジェクトにおいて、人とLLM（Large Language Model）の両方が参考にすべきドキュメンテーションの原則、ベストプラクティス、および具体的な手順を提供します。一貫した高品質なドキュメントを作成・維持することで、プロジェクトの理解性と持続可能性を確保します。

## 目的

このガイドの目的は以下の通りです：

1. プロジェクト全体のドキュメンテーション方針を統一する
2. 新規開発者のオンボーディングを効率化する
3. 人間とLLM（Clineなど）の協働をスムーズにする
4. ドキュメントの品質と一貫性を確保する
5. プロジェクトの長期的な維持管理をサポートする

## ドキュメンテーションの基本原則

### 1. ドキュメントの種類と目的を明確にする

各ドキュメントは明確な目的を持ち、以下のカテゴリに分類されます：

- **概要ドキュメント**: プロジェクトの目的、背景、全体像を提供
- **技術ドキュメント**: アーキテクチャ、データモデル、APIなどの技術的な詳細を説明
- **ユーザーガイド**: エンドユーザー向けの使用方法や機能説明
- **開発者ガイド**: 開発環境のセットアップ、コーディング規約、貢献方法など
- **リファレンス**: APIリファレンス、設定リファレンスなど

### 2. 一貫した構造とフォーマットを維持する

すべてのドキュメントは以下の一貫した構造を持つべきです：

- ドキュメントの冒頭に**更新日**と**確認日**を記載
- 明確な見出しと階層構造（Markdownの見出しレベルを適切に使用）
- 必要に応じたコード例、図表、スクリーンショット
- 関連するドキュメントへのリンク
- Changelogセクション（変更履歴）

### 3. 内容の正確性と最新性を確保する

- 実装と一致した正確な情報を提供する
- 定期的なレビューと更新を行う
- 古くなった情報や非推奨機能には明確な注記を付ける
- コード例は実際に動作するものを使用する

### 4. 読者を意識した書き方をする

- 技術レベルに応じた適切な説明の詳細度を選択する
- 専門用語を使用する場合は初出時に説明を加える
- 簡潔で明瞭な言葉遣いを心がける
- 箇条書きや表を効果的に活用して読みやすさを向上させる

## ドキュメントの種類と配置

git-resumeプロジェクトでは、以下のドキュメント構造を採用しています：

### プロジェクトルート

- `README.md`: プロジェクトの概要、インストール方法、基本的な使用方法
- `.env.sample`: 環境変数のサンプルと説明

### docs/ ディレクトリ

- `docs/README.md`: 本ドキュメント（ドキュメンテーションガイド）
- `docs/guide/`: プロジェクト全般のガイドライン
  - `project-overview.md`: プロジェクトの詳細な概要と目的
  - `onboarding.md`: 新規開発者向けのセットアップガイド
  - `roadmap.md`: 開発ロードマップ
  - `development-flow.md`: 開発フローとドキュメント作成のタイミング

- `docs/architecture/`: 技術的な設計文書
  - `overview.md`: システム構成、コンポーネント間の関係
  - `data-models.md`: データモデルと関連性の説明

- `docs/api/`: API仕様とドキュメント
  - `README.md`: APIの概要と使用例

- `docs/user-guide/`: エンドユーザー向けドキュメント
  - `README.md`: 一般ユーザー向けの操作方法や機能説明

- `docs/troubleshooting/`: 問題解決ガイド
  - `README.md`: 一般的な問題とその解決方法

- `docs/releases/`: リリース情報
  - `CHANGELOG.md`: バージョンごとの変更点や新機能の説明

- `docs/templates/`: ドキュメントテンプレート
  - `prd-template.md`: Product Requirement Document テンプレート
  - `tech-template.md`: Technical Design Document テンプレート
  - `example-feature/`: 機能開発ドキュメントの包括的な参考例

### アプリケーションとパッケージ

- `apps/*/README.md`: 各アプリケーションの説明と使用方法
- `packages/*/README.md`: 各共有パッケージの説明と使用方法

### .clinerules/ ディレクトリ

- `README.md`: .clinerules全体の目次
- `important-docs.md`: プロジェクトの重要な資料の場所をまとめたリスト
- `commit-rules.md`: プロンプト履歴の記録ルール
- `repomix.md`: リポジトリコードを効率的に理解するための方法
- `prompts/update-docs.md`: ドキュメント更新時のルールとテンプレート

## ドキュメンテーションプロセス

### 新規機能開発時のドキュメント作成フロー

1. **要件定義ステップ**
   - Product Requirement Document (PRD) を作成
   - 機能の「なぜ」と「何を」を明確にする
   - ユーザーストーリー、要件、目的を記述

2. **技術検討ステップ**
   - Technical Design Document (TDD) を作成
   - 機能の「どのように」を設計
   - アーキテクチャ、データフロー、API設計を記述
   - 必要に応じてサブディレクトリに分割（アーキテクチャ、実装詳細、テスト計画など）

3. **実装ステップ**
   - コードと並行して実装ドキュメントを更新
   - APIドキュメントやユーザーガイドのドラフトを作成

4. **テストステップ**
   - テスト計画と結果を文書化
   - トラブルシューティングガイドを更新

5. **リリースステップ**
   - CHANGELOGを更新
   - ユーザーガイドを完成
   - リリースノートを作成

6. **リリース後の振り返りステップ**
   - ドキュメントの改善点を特定
   - フィードバックに基づいて更新

### ドキュメント更新の原則

- 機能やコードを変更する際は、関連するドキュメントも同時に更新する
- 大きな変更の場合は、事前にドキュメント更新計画を作成する
- 既存のドキュメント構造を尊重し、突然の大きな変更は避ける
- 更新日とChangelogを必ず更新する
- 内容に意味的な大きな変化がない場合は確認日のみを更新する

## LLMとのコラボレーションにおけるドキュメンテーション

### LLMがドキュメントを作成・更新する際のガイドライン

1. **事前の理解と計画**
   - 既存のドキュメント構造と内容を理解する
   - 更新の目的と範囲を明確にする
   - 人間に更新計画を提示し、承認を得る

2. **ドキュメント作成・更新時**
   - 既存の書式やスタイルを一貫して適用する
   - 冒頭の更新日と確認日を必ず更新する
   - Changelogに変更内容を記録する
   - 客観的で正確な情報を提供する
   - 適切な相互参照リンクを含める

3. **レビューと確認**
   - 変更箇所を明示して人間のレビューを依頼する
   - フィードバックを適切に反映する
   - 最終確認を行った上で確定する

### LLMがドキュメントを参照する際の効率化

LLM（Clineなど）がプロジェクトを効率的に理解するために：

- `.clinerules/important-docs.md` を最初に参照して全体像を把握
- `.clinerules/repomix.md` のガイドラインに従ってコードを効率的に分析
- 各ドキュメント間の相互参照リンクを活用して関連情報に素早くアクセス
- `.clinerules/prompts/update-docs.md` のテンプレートとルールに従ってドキュメントを更新

## ベストプラクティスと具体例

### 効果的なドキュメント例

1. **明確な構造と見出し**
   ```markdown
   # 機能タイトル

   **更新日**: 2025/3/21
   **確認日**: 2025/3/21

   ## 概要

   [簡潔な説明]

   ## 動作詳細

   ### ユースケース1
   [説明]

   ### ユースケース2
   [説明]

   ## 実装方法

   [コード例やアーキテクチャ図]

   ## 関連ドキュメント

   - [リンク1]
   - [リンク2]

   ## Changelog

   - 2025/3/21: 初回作成
   ```

2. **適切な図表の使用**
   - シーケンス図、アーキテクチャ図、データフロー図などを活用
   - Mermaidなどのマークダウン内で描画可能な図表ツールを活用

3. **コード例と説明の組み合わせ**
   ```markdown
   ## API使用例

   ```typescript
   // ユーザー情報を取得
   const user = await githubService.getUserDetail('username');
   console.log(user.repositories);  // リポジトリ一覧にアクセス
   ```

   上記の例では、`getUserDetail` メソッドを使用してGitHubユーザーの情報を取得し、
   その結果から `repositories` プロパティにアクセスしています。
   ```

## トラブルシューティングとFAQ

### ドキュメント作成・更新時の一般的な問題

1. **ドキュメントとコードの乖離**
   - 解決策: 機能実装とドキュメント更新を同時に行う
   - 定期的なドキュメントレビューを実施する

2. **過剰または不足した情報量**
   - 解決策: 対象読者と目的を明確にし、それに適した詳細度を選択する
   - 基本情報と詳細情報を適切に分離する

3. **リンク切れや古い参照**
   - 解決策: ドキュメント更新時にリンクの有効性を確認する
   - 相対パスを使用して、ファイル移動時の影響を最小化する

4. **検索性の低さ**
   - 解決策: 適切な見出しと明確な構造を使用する
   - キーワードを意識した記述を心がける

## Changelog

- 2025/3/21: .clinerules/documentation-guide.md から docs/README.md に移動
- 2025/3/21: 初回作成
